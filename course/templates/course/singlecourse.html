{% extends "course\basic.html" %}
{% load static %}

{% block title %}
  block title
{% endblock title %}

{% block css %}
  
.img-hero{
    max-height:50vh;
    min-width : 100vw;
}

{% endblock css %}

{% block body %}

{% if error == "null" %}
  

<img src="\media\{{data.image}}" alt="" class="img-hero" >

<div class="container">
    <h1 class="display-1 text-center">
        {{data.name}}
    </h1>

    <p class="display-4">
    {{data.desc}}
    </p>

<div class="text-center"><button  class="btn btn-primary" onclick="addToCart('{{data.id}}')" >Add to cart<button/>
</div>
    



</div>
{% else %}
<h1 class="display-1 text-danger text-center">{{error}}</h1>
{% endif %}




<script>

  const addToCart =(id)=>{
  
  
    var cart = JSON.parse(localStorage.getItem("cart"))
  
    if(cart)
    {
      if(cart[id]){
        cart[id] = cart[id] + 1 
      }
      else{
        cart[id]=1
      }
      
    }
  else{
    cart = {[id]:1}
  }
  
  localStorage.setItem("cart",JSON.stringify(cart))
  
  
  
  var value = JSON.parse(localStorage.getItem("cart"));
  
  console.log(value)
  
  document.getElementById("cartId").innerHTML = Object.keys(value).length
  }
  
  
  
  </script>
  


{% endblock body %}